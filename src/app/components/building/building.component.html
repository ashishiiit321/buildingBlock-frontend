<div *ngIf="!pageLoaded">
  <div class="boxes">
    <div class="box">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="box">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="box">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="box">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>



<div *ngIf="pageLoaded" class="content">

  <!-- The modal -->
  <div class="modal fade" id="myModalForBuilding">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header text-center">
          <h4 class="modal-title w-100 font-weight-bold">Add New Building</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body mx-2">
          <!--  Building Name -->
          <div class="md-form mb-4">
            <label>Enter Building Name</label>
            <input type="text" [(ngModel)]="buildingName" class="form-control validate">
          </div>

        </div>
        <div class="modal-footer d-flex justify-content-center">
          <button class="btn btn-default" (click)="addBuilding()" data-dismiss="modal" id="addition-btn">Add</button>
        </div>
      </div>
    </div>
  </div>
  <!-- The modal  End -->


  <!-- NavBar -->
  <div class="navTop">
    <div class="dropdown" style="display: flex;justify-content: flex-end;margin-top: 15px;margin-right: 5px;">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Building List
      </button>

      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" data-target="#myModalForBuilding" data-toggle="modal">Add Building</a>

        <div *ngFor="let building of buildings">
          <a class="dropdown-item" (click)="selectBuilding(building._id)" href="#">{{building.buildingName}} </a>
          <i class="fa fa-trash" (click)="deleteBuilding(building._id)" aria-hidden="true" style="color: red;position: relative;
           cursor: pointer; left: 122px;bottom: 30px;"></i>
        </div>
      </div>

    </div>
  </div>
  <!-- NavBar  end-->

  <div *ngIf="!isBuilding || buildings.length==0" style="color: red;" style="position: relative;top:120px;text-align: center;
    color: red;">
    No Building is there. Add one building.
  </div>



  <div *ngIf="isBuilding  && buildings.length!=0" class="body">
    <!-- LeftBody -->
    <div class="body-left container">
      <div style="text-align: center;">{{activeBuilding.buildingName}}</div>
      <div class="building" *ngIf="this.activeBuilding.floor.length==0" style="background: white;color: red;text-align: center;">No Floor is added right now.</div>
      
      <!-- Displaying Floor List -->
      <ul *ngIf="this.activeBuilding.floor.length!=0" class="building list-group" style="background: white">
        <li *ngFor="let floor of activeBuilding.floor" class="list-group-item ">
          {{floor.floorName}}
          <i class="fa fa-trash" (click)="deleteFloor(floor)" aria-hidden="true" style="color: red;display: flex;justify-content: flex-end;cursor: pointer;"></i>

        </li>
      </ul>

    </div>
    <!-- LeftBody  End-->

    <div class="body-right ">
      <!-- The modal -->
      <div class="modal fade" id="myModalInDashboard">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header text-center">
              <h4 class="modal-title w-100 font-weight-bold">Add New Floor</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body mx-2">
              <!--  floorName Name -->
              <div class="md-form mb-4">
                <label>Enter Floor Name</label>
                <input type="text" [(ngModel)]="floorName" class="form-control validate">
              </div>
              <div class="md-form mb-4">
                <label>Enter Floor Description</label>
                <input type="text" [(ngModel)]="floorDescription" class="form-control validate">
              </div>
            </div>
            <div class="modal-footer d-flex justify-content-center">
              <button class="btn btn-default" (click)="addFloor()" data-dismiss="modal" id="addition-btn">Add</button>
            </div>
          </div>
        </div>
      </div>
      <!-- The modal  End -->

      <button class="floor-btn" data-target="#myModalInDashboard" data-toggle="modal"> Add Floor</button>
    </div>
  </div>
  <!-- Button trigger modal -->
</div>